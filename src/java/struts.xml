<!DOCTYPE struts PUBLIC
"-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
"http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>
    <include file="example.xml"/>
    <!-- Configuration for the default package. -->
    <constant name="struts.devMode" value="true" />
    <constant name="struts.custom.i18n.resources" value="global" />
    <constant name="struts.multipart.saveDir" value="C:/Users/le_as/Documents/Escuela"/>
    <constant name="struts.multipart.maxSize" value="20000000" /><!--Constante para definir el tamaño de los archivos a subir-->
    <!--Package inicio de Sesion -->
    <package name="inicio_sesion" extends="struts-default" namespace="/Usuario">
        <action name="Sesion" class="sesion.Login_Action">
            <result name="test">/Login/Login.jsp</result>
            <!-->Página principal de profesor<-->
            <result name="profesor">/Profesor/Profesor.jsp</result>
            <result name="profesor_noac">/Profesor/Profesor_notime.jsp</result>
            <!-->Páginas de los administradores<-->
            <result name="admin_sip">/Admins/admin_sip.jsp</result>
            <result name="admin_inda">/Admins/admin_inda.jsp</result>
            <result name="admin_cofaa">/Admins/admin_cofaa.jsp</result>
            <result name="admin_prof">/Admins/admin_prof.jsp</result>
            <result name="admin_escom">/Admins/admin_escom.jsp</result>
            <!-->Páginas de los usuarios de las dependencias<-->
            <result name="usuario_catt">/CATT/CATT.jsp</result>
            <result name="usuario_cofaa">/COFAA/COFAA.jsp</result>
            <result name="usuario_inda">/INDAUTOR/INDAUTOR.jsp</result>
            <result name="usuario_repua">/Rep_ua/Rep_ua.jsp</result>
            <result name="usuario_sip">/SIP/SIP.jsp</result>
            <result name="usuario_ss">/Servicio/Servicio.jsp</result>
        </action>
        <action name="Cerrar_sesion" class="sesion.Login_Action" method="logout">
            <result name="test">/Login/Login.jsp</result>
        </action>
        <action name="Recupera_pass">
            <result>/Recover_pass.jsp</result>
        </action>
        <action name="Envia_email" class="email.send_email">
            <result name="test">/Login/Login.jsp</result>
            <result name="error">/Recover_pass.jsp</result>
        </action>
        <action name="actualiza_pass">
            <result>/actualiza_pass.jsp</result>
        </action>
        <action name="Reset_pass" class="email.reset_pass">
            <result name="test">/Login/reset_contra.jsp</result>
            <!--result name="false">/actualiza_pass.jsp</result-->
            <result name="error">/error.jsp</result>
        </action>
    </package>
    
    <!--Paquetes de los administradores (todos)-->
    <package name="AltaUsuarios"  extends="struts-default" namespace="/Usuario"><!--Paquete para dar de alta usuarios SIP-->
        <!--Registra SIP-->
        <action name="Registra_SIP" class="admins.regusuario_sip">
            <result name="success">/Admins/sip_regExi.jsp</result>
            <result name="test">/Admins/admin_sip.jsp</result>
            <result name="error">regusuario_fallo.jsp</result>
        </action>
        <!--Borra SIP-->
        <action name="Borrar" class="admins.Borrarusuario_SIP">
            <result name="borrar_exitoso">/Admins/admin_sip.jsp</result>
            <result name="borrar_fallo">Admins/borrar_fallo.jsp</result>
        </action>
        <!--Modifica SIP-->
        <action name="Modifica" class="admins.Modifica_SIP" >
            <result name="modificar_exitoso">/Admins/admin_sip.jsp</result>
            <result name="modificar_fallo">borrar_fallo.jsp</result>
            <result name="test">/Admins/modifica_usip.jsp</result>
        </action> 
        
         <!--Registra INDAUTOR-->
        <action name="Registra_INDA" class="admins.regusuario_sip">
            <result name="test">/Admins/admin_inda.jsp</result><!--hacer para el cofaas-->
            <result name="success">/Admins/inda_regExi.jsp</result>
            <result name="error">regusuario_fallo.jsp</result>
        </action>
        
        <!--Borra INDAUTOR-->
        <action name="Borrar_INDA" class="admins.Borrarusuario_SIP">
            <result name="borrar_exitoso">/Admins/admin_inda.jsp</result>
            <result name="borrar_fallo">Admins/borrar_fallo.jsp</result>
        </action>
        
        <!--Modifica INDAUTOR-->
        <action name="Modifica_INDA" class="admins.Modifica_SIP" >
            <result name="modificar_exitoso">/Admins/admin_inda.jsp</result>
            <result name="modificar_fallo">borrar_fallo.jsp</result>
            <result name="test">/Admins/modifica_inda.jsp</result>
        </action> 
        
        <!--Registra COFAA-->
        <action name="Registra_COFAA" class="admins.regusuario_sip">
            <result name="success">/Admins/cofaa_regExi.jsp</result>
            <result name="test">/Admins/usuarios_cofaa.jsp</result>
            <result name="error">regusuario_fallo.jsp</result>
        </action>
        
        <!--Borra COFAA-->
        <action name="Borrar_COFAA" class="admins.Borrarusuario_SIP">
            <result name="borrar_exitoso">/Admins/usuarios_cofaa.jsp</result>
            <result name="borrar_fallo">Admins/borrar_fallo.jsp</result>
        </action>
        
        <!--opción para que el profesor apele-->
        <action name="Profesor_apela">
            <result>/Profesor/Profesor_notime.jsp</result>
        </action>
        
        <!--Modifica COFAA-->
        <action name="Modifica_COFAA" class="admins.modifica_cofaa" >
            <result name="modificar_exitoso">/Admins/usuarios_cofaa.jsp</result>
            <result name="modificar_fallo">borrar_fallo.jsp</result>
            <result name="test">/Admins/modifica_cofaa.jsp</result>
        </action> 
        <!--Registra CATT-->
        <action name="Registra_CATT" class="admins.regusuario_sip">
            <result name="success">/Admins/catt_regExi.jsp</result>
            <result name="test">/Admins/CATT.jsp</result>
            <result name="error">regusuario_fallo.jsp</result>
        </action>
        
        <!--Borra CATT-->
        <action name="Borrar_CATT" class="admins.Borrarusuario_SIP">
            <result name="borrar_exitoso">/Admins/CATT.jsp</result>
            <result name="borrar_fallo">Admins/borrar_fallo.jsp</result>
        </action>
        
        <!--Modifica CATT-->
        <action name="Modifica_CATT" class="admins.Modifica_SIP" >
            <result name="modificar_exitoso">/Admins/CATT.jsp</result>
            <result name="modificar_fallo">borrar_fallo.jsp</result>
            <result name="test">/Admins/modifica_catt.jsp</result>
        </action> 
        
        
        <!--Registra SS-->
        <action name="Registra_SS" class="admins.regusuario_sip">
            <result name="success">/Admins/ss_regExi.jsp</result>
            <result name="test">/Admins/Servicio.jsp</result>
            <result name="error">regusuario_fallo.jsp</result>
        </action>
        
        <!--Borra SS-->
        <action name="Borrar_SS" class="admins.Borrarusuario_SIP">
            <result name="borrar_exitoso">/Admins/Servicio.jsp</result>
            <result name="borrar_fallo">Admins/borrar_fallo.jsp</result>
        </action>
        
        <!--Modifica SS-->
        <action name="Modifica_SS" class="admins.Modifica_SIP" >
            <result name="modificar_exitoso">/Admins/Servicio.jsp</result>
            <result name="modificar_fallo">borrar_fallo.jsp</result>
            <result name="test">/Admins/modifica_ss.jsp</result>
        </action> 
        
    </package>
        
    <!--Package Menu (Para dirigir a Menu Principal)-->
    <package name="Menu" extends="struts-default">
        <action name="Menu">           
            <result>/Profesor/Profesor.jsp</result>
        </action>
        <action name="Menu_ESCOM">           
            <result>/Admins/admin_escom.jsp</result>
        </action>
        <action name="About_us">
            <result>/Profesor/About_us.jsp</result>
        </action>
        <!--Regresos a páginas de adminsitradores de usuarios después del registro-->
        <action name="Catt_registro">
            <result>/Admins/CATT.jsp</result>
        </action>
        <action name="Inda_registro">
            <result>/Admins/admin_inda.jsp</result>
        </action>
        <action name="Cofaa_registro">
            <result>/Admins/usuarios_cofaa.jsp</result>
        </action>
        <action name="SS_registro">
            <result>/Admins/Servicio.jsp</result>
        </action>
        <action name="Sip_registro">
            <result>/Admins/admin_sip.jsp</result>
        </action>
        <!--Regresos a páginas de adminsitradores de usuarios después del registroFIN-->
    </package>
    <package name="PROFESOR" extends="struts-default" namespace="/Usuario">
        <action name="Actividades_Profesor">
            <result>/Profesor/Actividades.jsp</result>
        </action>
        <action name="apelacion_prof" class="profesor.try_apelacion">
            <result name="success">/Profesor/Profesor_apelacion.jsp</result>
            <result name="error">/Profesor/Profesor_notime.jsp</result>
        </action>
        <action name="test_doc">
            <result>/Profesor/test_doc.jsp</result>
        </action>
        <action name="fileUploadAction" class="PDF.Subir_PDF" method="display"><!--Test to upload filesssssssssssssssssssssssssssssssssssssssssssssss-->
	    <result name="none">/Profesor/test_doc.jsp</result>
	</action>
        <action name="upload_file" class="PDF.Subir_PDF">
            <interceptor-ref name="exception"/>
            <interceptor-ref name="i18n"/>
            <interceptor-ref name="fileUpload">
                <param name="maximumSize">10485760</param>
                <param name="saveDir">/tmp</param>
                <param name="allowedTypes">application/kswps</param>
            </interceptor-ref>
            <interceptor-ref name="params">
                <param name="excludeParams">dojo\..*,^struts\..*</param>
            </interceptor-ref>
            <interceptor-ref name="validation">
                <param name="excludeMethods">input,back,cancel,browse</param>
            </interceptor-ref>
            <interceptor-ref name="workflow">
                <param name="excludeMethods">input,back,cancel,browse</param>
            </interceptor-ref>
            <result name="success">/Profesor/Profesor.jsp</result>
            <result name="input">/Profesor/test_doc.jsp</result>
        </action><!--Test to upload filesssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss-->
        <action name="create_pdf" class="PDF.GenerateSimplePdfReportWithJasperReports">
            <result name="success">/Profesor/Profesor.jsp</result>
            <result name="error">/error.jsp</result>
        </action>
    </package>
    <!--paquete de la escom (redirigir a catt o a servicio social)-->
    <package name="ESCOM" extends="struts-default" namespace="/Usuario">
        <action name="CATT">
            <result>/Admins/CATT.jsp</result>
        </action>
        <action name="Servicio">
            <result>/Admins/Servicio.jsp</result>
        </action>
    </package> 
    <!--paquete para las fechas y administrador cofaa-->
    <package name="Fechas_Cofaa" extends="struts-default" namespace="/Usuario">
        <!--acciones para eliminar o modificar las fechas-->
        <action name="Borrar_fechaacti" class="admins.Borrar_feacti">
            <result name="success">/Admins/Reg_Acti.jsp</result>
            <result name="error">/Admins/borrar_fallo.jsp</result>
        </action>
        <action name="Modifica_fechaacti" class="admins.modifica_feacti">
            <result name="success">/Admins/Reg_Acti.jsp</result>
            <result name="fail">/Admins/borrar_fallo.jsp</result>
        </action>
        <action name="Borrar_fechaapela" class="admins.Borrar_feapela">
            <result name="success">/Admins/Apelaciones.jsp</result>
            <result name="error">/Admins/borrar_fallo.jsp</result>
        </action>
         <action name="Modifica_fechaapela" class="admins.modifica_feapela">
            <result name="success">/Admins/Apelaciones.jsp</result>
            <result name="fail">/Admins/borrar_fallo.jsp</result>
        </action>
        <action name="Borrar_fechaeval" class="admins.Borrar_feeval">
            <result name="success">/Admins/Evaluaciones.jsp</result>
            <result name="error">/Admins/borrar_fallo.jsp</result>
        </action>
        <action name="Modifica_fechaeval" class="admins.modifica_feeval">
            <result name="success">/Admins/Evaluaciones.jsp</result>
            <result name="fail">/Admins/borrar_fallo.jsp</result>
        </action>
        <!--Periodo de fechas cofaa Actividades-->
        <action name="Registra_actividades" class="admins.RegistraActividades" >
            <result name="success">/Admins/Reg_Acti.jsp</result>
            <result name="error">/Admins/borrar_fallo.jsp</result>
        </action>
        <action name="Registra_apelaciones" class="admins.RegistraApelaciones" >
            <result name="success">/Admins/Apelaciones.jsp</result>
            <result name="error">/Admins/borrar_fallo.jsp</result>
        </action>
        <action name="Registra_evaluaciones" class="admins.RegistraEvaluaciones" >
            <result name="success">/Admins/Evaluaciones.jsp</result>
            <result name="error">/Admins/borrar_fallo.jsp</result>
        </action> 
        <!--acciones para eliminar las fechas Fin-->
        <!--dirigir a jsp de registro de fechas para los diversos periodos-->
        <action name="Periodos_cofaa" >
            <result>/Admins/periodo_cofaa.jsp</result>
        </action>
        <action name="Apelaciones">
            <result>/Admins/Apelaciones.jsp</result>
        </action>
        <action name="Evaluaciones">
            <result>/Admins/Evaluaciones.jsp</result>
        </action>
        <action name="Reg_Acti">
            <result>/Admins/Reg_Acti.jsp</result>
        </action>
        <!--Aqui se acaba lo de ya sabes qué, las fechas-->
        <action name="Menu_COFAA">
             <result>/Admins/admin_cofaa.jsp</result>
        </action>
        <!--Administracion de usuarios COFAA-->
        <action name="Admin_usuarios" >
            <result>/Admins/usuarios_cofaa.jsp</result>
        </action>
    </package> 
    <package name="Paquete_sip" extends="struts-default" namespace="/Usuario">
        <action name="Proyecto_sip">
            <result>/SIP/proyecto_sip.jsp</result>
        </action>
    </package>
</struts>
